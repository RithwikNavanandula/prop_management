 
       You are a senior product designer and full     stack architect. Design an         enterprise, multi         country Property Management System (PMS)     that operates across         Africa, GCC, EU, US, Australia, and India    , covering residential and commercial portfolios. The PMS must support property managers, regional heads, executives, tenants, owners, maintenance teams, vendors, and finance users with         global         ready UI/UX, strong localization, and advanced dashboards/workflows    .           Your task:     Produce a         single, structured specification     that includes:            Global UX/IA design, 2) Role     based dashboards, 3) Multi     country localization behavior, 4) Data     heavy screen patterns, 5) Governance and security UX, 6) Mobile/field UX, and 7) A concise screen map.      Provide headings, bullet points, and examples that a design/engineering team can implement directly.                       1. Global information architecture and navigation      Design an app     wide information architecture optimized for         enterprise multi         country operations    :                 Primary navigation (global, left or top):                Portfolio    ,         Properties    ,         Leasing    ,         Tenants    ,         Maintenance    ,         Finance    ,         Compliance    ,         Analytics/BI    ,         Admin/Settings    .            Introduce a         Global Context Bar     visible on every page with:            Region (Africa, GCC, EU, US, Australia, India)            Country (e.g., Kenya, UAE, Germany, US, Australia, India)            Currency (local + base), Time zone, Legal entity/Company, Data scope (Portfolio / Property / Region).            Implement a         Context Switcher     (dropdown or command palette) that:            Changes region/country/entity and automatically      refilters      dashboards, lists, and reports.             Supports presets like “My Region,” “My Country,” “Global Consolidated.”            Separate         Global Admin     (multi     country configuration, tax rules, workflows, roles, master data) from         Operational Areas     used daily.                       2. Multi         country, multi         currency, and localization behavior      Define UI behavior for localization across         Africa, GCC, EU, US, Australia, India    :                 Currency display:            Always show         local currency first     (e.g., ZAR, KES, NGN, AED, SAR, EUR, USD, AUD, INR) with optional base currency in parentheses (e.g., “AED 50,000 (USD 13,630)”).            Hover or detail panel shows exchange rate and date.            Dates, numbers, and locales:            Support regional formats: DD/MM/YYYY for EU/India/Africa/GCC vs MM/DD/YYYY for US, localized decimal/thousand separators.            Each user can set a         personal locale    ; reporting can use corporate standards (e.g., UTC + base currency).            Country     specific compliance/tax UI panels:            EU: VAT fields, GDPR consent indicators, data export controls.            US: state/local taxes, 1099 reporting hints.            India: GSTIN and CGST/SGST/IGST fields.            GCC: VAT fields (e.g., UAE, Saudi), FTA     related hints.            Africa/Australia: local tax IDs, regulatory tags      where      typical.            These appear as         collapsible, country         labeled sections     like “India – GST details” to keep core forms clean.      Explain how      these localization      blocks integrate into forms for         property, lease, tenant, invoice, owner, vendor    .                       3. Role         based dashboards (global + regional)       Design         distinct dashboards     for each major role, with region/country filters, and drill     down behavior:                     3.1 Executive / Group portfolio dashboard            KPIs per region (Africa, GCC, EU, US, Australia, India):            Occupancy rate, rent collection rate, delinquency, NOI, revenue growth, FX impact, capital projects status.             Visuals:            World/region map with color     coded performance.            Comparison charts (bar/line) per region and per country.            Tiles for exception lists: “Underperforming assets,” “High delinquency markets,” “High SLA breach regions.”            Drill     down:            Region → Country → City/Cluster → Property → Unit → Lease → Invoice/Work Order, all with consistent layout patterns.                3.2 Regional / Property operations dashboard            KPIs per region/country:            Occupancy by asset class, leasing velocity, days     vacant, upcoming lease expiries, open tickets by priority, recurring issues.        hicronsoftware+2             Views:            Tabs for Residential vs Commercial, and filters by city/cluster.            Lists: “Lease      expiries      next 60/90 days,” “Vacant high     value units,” “High     priority maintenance.”                3.3 Finance / Treasury dashboard            KPIs:            Rent roll by currency, AR aging by region, DSO, FX exposure, budget vs actuals, cash     flow forecast, owner distributions.             Features:            Pivot     style grids with grouping by region, country, asset type, currency.             Multi     currency totals showing local + base currency.                3.4 Maintenance &amp; Facilities dashboard            KPIs:            Open tickets by priority/region, SLA compliance, MTTR, MTBF, repeat issues, maintenance cost per unit/property.             Visuals:            Kanban board for work orders, heatmaps of issue clusters, technician productivity cards, calendar of planned vs reactive work.                3.5 Owner / Investor dashboard            KPIs:            Occupancy, income vs expenses, cash distributions, value trend per region/country.             UI:            Simplified, visually rich dashboard with drill     down to statements and tax reports.                       4. Data         heavy screen patterns (tables, forms, filters)      Define         standard interaction patterns     for leases, invoices, tenants, properties, and work orders:        hicronsoftware+2             Global tables:            Server     side filtering, column chooser, sorting, grouping, pagination, saved views.            Examples of saved views:            “My region – delinquent tenants (last 30 days)”            “EU – leases expiring in next 90 days”            “GCC – high     priority maintenance this week”.            Forms for complex entities (Lease, Property, Maintenance Request):            Structured sections:             For lease: Parties, Dates, Rent, Deposits, Indexation, Taxes, Documents, Local     compliance.            For property: Basic info, Location, Ownership, Usage, Local registration &amp; taxes.            Use inline validation with clear messages; avoid excessive modals.            Provide         smart defaults and templates     (e.g., lease templates per country, default SLA per property class).       Explain how these patterns are reused across modules to ensure consistency and easy training.                       5. Governance, scopes, and security UX      Design UI patterns to express         who can see what    , across regions and entities:             Scoped access:            Users can be assigned scopes like “Africa + India,” “GCC only,” “EU residential,” “Global executive.”            The UI should:            Show the user’s scope explicitly (e.g., in profile or context bar).            Hide navigation items and data outside their scope (no “greyed out” dummy data).            Permissions and roles:            Include a visual         Role &amp; Scope matrix     for admins (roles × regions × entity types).            Auditing and transparency:            Every critical record (lease, invoice, work order, SLA, configuration) has an         Activity/Audit     tab logging changes (who, when, what), including region/country context.                       6. Mobile and field operations design       Specify         mobile         first workflows     for tenants, field technicians, and on     the     go managers:        cyberoptik+3             Tenants:            Simple mobile app for: pay rent, view balance, lodge maintenance, track ticket status, download lease.            Field technicians/Inspectors:            Mobile UI focused      on:      scan QR code (unit/asset), view work order, capture photos/video, log time, update status, add notes – all optimized for spotty connectivity (e.g., parts of Africa/India).            Offline     first design with local queue and background sync.            Managers/executives:            Slim mobile dashboards with key tiles (occupancy, collections, SLA breaches, urgent approvals) and one     tap drill     down.      Describe navigation, key screens, and offline behavior.                       7. Design system for a global PMS      Specify a         design system / component library     that supports this multi     region PMS:             Core components:            Navigation (sidebar/     topbar     ), context bar, tiles/cards, charts, tables, filters panel, forms, wizards, modals, toasts, tags/chips.            Localization     ready components:            Date/time pickers, currency inputs, address blocks, local     compliance sections (pluggable per country).            Theming and consistency:            Support light/dark modes and brand customization for different business lines, while preserving consistent behavior across regions.                       8. Screen map and concrete examples       Provide a         screen map     listing the top 15–20 screens/pages with a short description each, including:            Global:            Global Executive Dashboard, Region Portfolio Dashboard, Global Rent Roll, Global AR Aging, Global Maintenance Overview.            Regional/Operational:            Region Operations Dashboard (e.g., GCC), Property List, Property Detail, Unit List, Lease Detail, Tenant Detail, Work Order Board, Maintenance Request Detail.            Finance:            Multi     currency Rent Roll, AR Aging by Region, Cash     Flow Forecast, Budget vs Actuals, Owner Statement view.            Admin:            Region &amp; Country Management, Tax &amp; Compliance Config, Role &amp; Scope Management, Localization Settings.      For         three key screens     (e.g., Executive Dashboard, Property Detail, Global Rent Roll), describe:            Layout zones (top context bar, main content, side panels).            Example widgets/cards, filters, and drill     down actions.             Ensure the final specification is         self         contained and precise    , with enough detail that:            A UX team can start wireframes,            A front     end team can implement layouts and components, and            A back     end team understands the context and data needed for each screen.      Below is a compact but detailed         project blueprint     you can give to a team or to an AI as a “magic prompt”. It combines: luxury focus, enterprise multi     country scope, table structures, front     end forms with CRUD, reports, and advanced dashboards, using Yardi     style integrated operations + accounting as reference.                         1. Project overview      Design a         Luxury Enterprise Property Management Software (PMS)     for multi     country portfolios (Africa, GCC, EU, US, Australia, India). The platform must handle residential, commercial, and ultra     high     net     worth (UHNW) estates with:            Integrated operations + accounting + investor reporting (similar to Yardi Voyager/ORION).             Luxury     grade maintenance/concierge services and high     value asset care.             Advanced dashboards, BI, and reports with strong filters and drill     down.      Deliverables:            Domain + module blueprint            Back     end table structures (key entities)            Front     end forms + CRUD behavior            Reports + advanced dashboards (with filters)            Notes on multi     country, security, and luxury features                       2. Core modules and scope      Model these modules (Yardi     style integrated suite + luxury features     )    ;                  Portfolio &amp; Property Management            High     value Asset &amp; Inventory Management (luxury estates)            Leasing &amp; Tenant / Occupant Management            Rent, Billing &amp; Payments (multi     currency)            Accounting &amp; Financials (GL, AP, AR, budgeting, forecasting)            Maintenance, Work Orders &amp; SLAs (luxury CMMS)            Concierge &amp; Lifestyle Services (for UHNW)            Compliance, Documents &amp; Inspections            Dashboards, BI &amp; Reports (executive, regional, operational)            Admin, Security &amp; Master Data                        3. Core back         end table structures (sample)      Define tables with: Id (PK), codes, names, status, audit, and soft delete.                3.1 Master data          Region             RegionId      (PK)             TenantId              RegionCode      (unique per tenant)             RegionName              RegionType      (Continent, Country, State, City, Zone)             ParentRegionId      (FK Region)            Status (Active/Inactive)             CreatedBy     ,      CreatedAt     ,      UpdatedBy     ,      UpdatedAt     ,      IsDeleted            StaffUser              StaffUserId      (PK)             TenantId               EmployeeCode              FirstName, LastName, DisplayName            Email, Phone            Role (Manager, Tech, Concierge, Security, Accountant, Admin)            Department             RegionId      (FK Region)             PrimaryPropertyId      (FK Property)             EmploymentType      (     FullTime     , Contract,      VendorStaff     )            Status (Active,      OnLeave     , Inactive)             CreatedBy     ,      CreatedAt     ,      UpdatedBy     ,      UpdatedAt     ,      IsDeleted            Property     (Residential + Commercial + Estate)             PropertyId     ,      TenantId     ,      PropertyCode     ,      PropertyName              PropertyType      (Residential, Commercial, Mixed,      LuxuryEstate     )             RegionId     , full address, geo coordinates             TotalUnits     ,      TotalArea     ,      UsageCategory      (Office, Retail, Villa, etc.)            Luxury flags:      IsUHNWClient     ,      EstateManagerStaffId             Compliance/tax: per     country fields (VAT/GST/     TaxIds     )          Unit     (with QR)             UnitId     ,      PropertyId     ,      BuildingId     ,      FloorId              UnitCode     ,      UnitNumber     ,      UnitType      (1BR, Office Suite, Pool House, etc.)            Area, room counts, ceiling height, parking slots              CurrentStatus       (Vacant, Occupied, Reserved,      UnderMaintenance     )             MarketRent     ,      UsageType              UnitQRCodeValue     ,      UnitQRCodeImageUrl     ,      QRCodeLastGeneratedAt            UnitAsset      (luxury assets and fixtures)             UnitAssetId     ,      UnitId              AssetCategory      (Furniture, Art, Jewelry, Appliance, Fixture, Vehicle, Wine, etc.)        elevateos+1              AssetName     ,      AssetTagCode               SerialNumber      , Manufacturer, Model             PurchaseDate     ,      PurchasePrice     ,      AppraisedValue     ,      InsurancePolicyNumber     ,      InsuranceExpiry              ConditionStatus     ,      LocationWithinUnit              AssetQRCodeValue     ,      PhotoUrl                 3.2 Leasing &amp; tenants          Tenant            Personal / company fields, contact details, KYC/ID, local tax IDs.           Lease             LeaseId     ,      LeaseNumber     ,      LeaseType      (Residential, Commercial, License,      ShortTerm     )             PropertyId     ,      UnitId     ,      TenantId     ,      OwnerId              LeaseStatus      (Draft, Active, Notice, Terminated, Expired)            Dates: start/end, notice, termination reason            Financials: base rent, currency, frequency, late     fee rule, deposits, indexation rules            Commercial: revenue share %, CAM basis, service charges           RentSchedule     ,          SecurityDeposit     ,          LeaseDocument      as previously discussed.                3.3 Billing, payments, FX          Invoice    ,          InvoiceLine     ,         Payment    ,          PaymentAllocation     ,          ExchangeRateDaily     ,          FxRevaluationBatch     , as earlier, with:             DocumentCurrency     ,      BaseCurrency     ,      ExchangeRateId     ,      FxDifferenceAmount             Support for multi     currency accounting like Yardi’s global deployments    .           Below are implementation     ready schemas for the remaining leasing and billing/FX tables, aligned with your PMS design and Yardi     style multi     currency accounting.        yardi+3                        1. Lease support tables                1.1          RentSchedule       One row per rent period/charge (e.g., monthly rent), usually generated from lease terms.       sql           CREATE             TABLE          rent_schedule      (             rent_schedule_id          BIGSERIAL         PRIMARY             KEY    ,             lease_id                          BIGINT     NOT NULL         REFERENCES     lease(     lease_id     ),             property_id                       BIGINT     NOT NULL         REFERENCES     property(     property_id     ),             unit_id                           BIGINT     NOT NULL         REFERENCES     unit(     unit_id     ),             period_start_date                 DATE     NOT NULL,             period_end_date                   DATE     NOT NULL,              due_date                          DATE     NOT NULL,             charge_type                        VARCHAR    (     50) NOT NULL,         --          BaseRent         , CAM, Parking,          ServiceCharge         , etc.             scheduled_amount                   NUMERIC    (     18,2) NOT NULL,             discount_amount                    NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             tax_code_id                       BIGINT     NULL         REFERENCES          tax_code     (     tax_code_id     ),             tax_amount                         NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             total_amount                       NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             currency_code                      CHAR    (     3) NOT      NULL,                 -- usually lease currency             is_prorated                       BOOLEAN     NOT NULL         DEFAULT     FALSE,             indexation_applied                BOOLEAN     NOT NULL         DEFAULT     FALSE,             indexation_run_id                 BIGINT          NULL,                      -- reference to indexation batch if any             invoice_id                        BIGINT          NULL,                      -- FK to invoice once billed             invoice_line_id                   BIGINT     NULL,                status                            VARCHAR    (     20) NOT NULL         DEFAULT     'Planned',         -- Planned/Billed/Cancelled             created_by                        BIGINT     NOT NULL,             created_at                        TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                        BIGINT     NULL,             updated_at                        TIMESTAMP     NULL       );            CREATE             INDEX          ix_rentsched_lease_due                 ON          rent_schedule      (     lease_id     ,      due_date     ,         status     );            CREATE             INDEX          ix_rentsched_property_period                 ON          rent_schedule      (     property_id     ,      period_start_date     ,      period_end_date      );            Usage            Generated for full lease term.            Used to create invoices (Auto     bill job picks status = 'Planned' and      due_date      range).                       1.2          SecurityDeposit       Stores initial and any additional deposits.       sql           CREATE             TABLE          security_deposit      (             security_deposit_id      BIGSERIAL         PRIMARY             KEY    ,             lease_id                         BIGINT     NOT NULL         REFERENCES     lease(     lease_id     ),             property_id                      BIGINT     NOT NULL         REFERENCES     property(     property_id     ),             tenant_id                        BIGINT     NOT NULL         REFERENCES     tenant(     tenant_id     ),             deposit_type                      VARCHAR    (     50) NOT NULL,         -- Cash,          BankGuarantee         ,          LetterOfCredit         purpose                      VARCHAR    (     100) NOT NULL,         -- Security,          KeyDeposit         , Utility, etc.             deposit_amount                    NUMERIC    (     18,2) NOT NULL,             currency_code                     CHAR    (     3) NOT NULL,             received_date                    DATE     NOT NULL,             held_in_bank_account_id              BIGINT     NULL         REFERENCES          bank_account     (     bank_account_id     ),             reference_number                  VARCHAR    (     100) NULL,             refund_status                     VARCHAR    (     20) NOT NULL         DEFAULT     'Held',         -- Held/         PartiallyRefunded         /Refunded/Applied             refunded_amount                   NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             refunded_date                    DATE     NULL,             refund_reason                     VARCHAR    (     500) NULL,             applied_to_invoice_id              BIGINT     NULL,         -- if used to settle charges             created_by                       BIGINT     NOT NULL,              created_at                       TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                       BIGINT     NULL,             updated_at                       TIMESTAMP     NULL,             is_deleted                       BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             INDEX          ix_secdep_lease_status                 ON          security_deposit      (     lease_id     ,      refund_status      );           Usage            Reports: deposits held by property/portfolio.            When refunded or applied, corresponding GL entries are posted.                       1.3          LeaseDocument       Leases and related attachments (addenda, ID proofs, etc.).       sql           CREATE             TABLE          lease_document      (             lease_document_     id       BIGSERIAL              PRIMARY             KEY    ,             lease_id                        BIGINT     NOT NULL         REFERENCES     lease(     lease_id     ),             document_type                    VARCHAR    (     50) NOT NULL,         --          LeaseAgreement         , Addendum, KYC, etc.             file_name                        VARCHAR    (     255) NOT NULL,             file_url                         VARCHAR    (     500) NOT NULL,             mime_type                        VARCHAR    (     100) NOT NULL,             file_size_bytes                 BIGINT     NULL,             uploaded_by                     BIGINT     NOT NULL,             uploaded_at                     TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             is_signed                       BOOLEAN     NOT NULL         DEFAULT     FALSE,              e_sign_envelope_id               VARCHAR    (     200) NULL,             version_number                       INT     NOT      NULL         DEFAULT     1,             is_current_version              BOOLEAN     NOT NULL         DEFAULT     TRUE,        notes                       VARCHAR    (     500) NULL       );            CREATE             INDEX          ix_leasedoc_lease_type                 ON          lease_document      (     lease_id     ,      document_type     ,      is_current_version      );           Usage            Tenant/owner portals show relevant documents; staff view all.            Integrates with e     signature system via      e_sign_envelope_id     .                       2. Billing, payments, FX                2.1 Invoice (header)       sql           CREATE             TABLE     invoice (             invoice_id               BIGSERIAL         PRIMARY             KEY    ,             tenant_id                        BIGINT     NOT      NULL,                             -- PMS tenant (your customer)             lease_id                         BIGINT     NULL         REFERENCES     lease(     lease_id     ),             property_id                      BIGINT     NULL         REFERENCES     property(     property_id     ),             unit_id                          BIGINT     NULL         REFERENCES     unit(     unit_id     ),             account_tenant_id                BIGINT     NULL         REFERENCES     tenant(     tenant_id     ),         -- billed party if separate             invoice_number                    VARCHAR    (     50) NOT NULL,             invoice_type                      VARCHAR    (     50) NOT NULL,         -- Rent, Deposit, Utility,          MiscCharge         ,          CreditNote              document_currency                 CHAR    (     3) NOT NULL,              base_currency                     CHAR    (     3) NOT NULL,             exchange_rate_id                 BIGINT     NULL,             exchange_rate                     NUMERIC    (     18,8) NOT NULL         DEFAULT     1,             invoice_date                     DATE     NOT NULL,             due_date                         DATE     NOT NULL,             subtotal_amount                   NUMERIC    (     18,2) NOT NULL         DEFAULT          0,            -- excl. tax             tax_amount                        NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             total_amount                      NUMERIC    (     18,2) NOT NULL         DEFAULT          0,            -- in document currency             base_subtotal_amount               NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             base_tax_amount                   NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             base_total_amount                 NUMERIC    (     18,2) NOT NULL         DEFAULT          0,            -- in base currency             fx_difference_amount               NUMERIC    (     18,2) NOT NULL         DEFAULT          0,          --          realized/unrealized adjustments                status                           VARCHAR    (     20) NOT NULL         DEFAULT     'Open',         -- Open/         PartiallyPaid         /Paid/Void             description                       VARCHAR    (     500) NULL,             is_system_generated              BOOLEAN     NOT NULL         DEFAULT     TRUE,             journal_entry_id                 BIGINT     NULL         REFERENCES          journal_entry     (     journal_entry_id     ),             created_by                       BIGINT     NOT NULL,             created_at                       TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                       BIGINT     NULL,             updated_at                       TIMESTAMP     NULL,             is_deleted                       BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             UNIQUE             INDEX          ux_invoice_tenant_number                 ON     invoice (     tenant_id     ,      invoice_number     )                 WHERE          is_deleted      =      FALSE;            CREATE             INDEX          ix_invoice_lease_status                 ON     invoice (     lease_id     ,         status    ,      due_date      );            CREATE             INDEX          ix_invoice_property_status                 ON     invoice (     property_id     ,         status    ,      due_date      );           Usage            Rent auto     billing sets      is_system_generated      = true and links to      rent_schedule     .             fx_difference_amount      holds recognized FX gain/loss associated with this invoice (e.g., on settlement).                       2.2          InvoiceLine        sql           CREATE             TABLE          invoice_line      (             invoice_line_id          BIGSERIAL         PRIMARY             KEY    ,             invoice_id                       BIGINT     NOT NULL         REFERENCES     invoice(     invoice_id     ),             line_number                      INT     NOT NULL,             charge_type                       VARCHAR    (     50) NOT NULL,         --          BaseRent         , CAM, Utilities, Fee, Tax, etc.        description                  VARCHAR    (     500) NOT NULL,        quantity                     NUMERIC    (     18,4) NOT NULL         DEFAULT     1,             unit_price                        NUMERIC    (     18,4) NOT NULL         DEFAULT     0,             line_amount                       NUMERIC    (     18,2) NOT NULL         DEFAULT          0,            -- excl. tax             tax_code_id                      BIGINT     NULL         REFERENCES          tax_code     (     tax_code_id     ),             tax_amount                        NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             total_amount                      NUMERIC    (     18,2) NOT NULL         DEFAULT          0,            -- incl. tax (document currency)              account_id                       BIGINT     NOT NULL         REFERENCES          chart_of_account     (     account_id     ),             property_id                      BIGINT     NULL,             unit_id                          BIGINT     NULL,             lease_id                         BIGINT     NULL,             rent_schedule_id                 BIGINT     NULL         REFERENCES          rent_schedule     (     rent_schedule_id     ),             created_by                       BIGINT     NOT NULL,             created_at                       TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                       BIGINT     NULL,             updated_at                       TIMESTAMP     NULL       );            CREATE             INDEX          ix_invoiceline_invoice                 ON          invoice_line      (     invoice_id      );            CREATE             INDEX          ix_invoiceline_account                 ON          invoice_line      (     account_id     ,      property_id     ,      lease_id      );           Usage            Each line maps to a GL account; posting uses this to create      journal_entry_line     .            Links back to      rent_schedule      when originating from lease billing.                       2.3 Payment (receipt from tenant)       sql           CREATE             TABLE     payment (             payment_id               BIGSERIAL         PRIMARY             KEY    ,             tenant_id                        BIGINT     NOT      NULL,                           -- system tenant             payer_tenant_id                  BIGINT     NULL         REFERENCES     tenant(     tenant_id     ),              lease_id                         BIGINT     NULL         REFERENCES     lease(     lease_id     ),             property_id                      BIGINT     NULL         REFERENCES     property(     property_id     ),             bank_account_id                  BIGINT     NULL         REFERENCES          bank_account     (     bank_account_id     ),             payment_number                    VARCHAR    (     50) NOT NULL,             payment_date                     DATE     NOT NULL,             payment_method                    VARCHAR    (     50) NOT NULL,         --          BankTransfer         , Card, Cash, Cheque, UPI, etc.             reference_number                  VARCHAR    (     100) NULL,             document_currency                 CHAR    (     3) NOT NULL,             base_currency                     CHAR    (     3) NOT NULL,             exchange_rate_id                 BIGINT     NULL,             exchange_rate                     NUMERIC    (     18,8) NOT NULL         DEFAULT     1,             amount_received                   NUMERIC    (     18,2) NOT NULL,             base_amount_received               NUMERIC    (     18,2) NOT NULL,             fx_difference_amount               NUMERIC    (     18,2) NOT NULL         DEFAULT     0,         -- FX gain/loss realized on settlement             unapplied_amount                  NUMERIC    (     18,2) NOT NULL         DEFAULT     0,                status                           VARCHAR    (     20) NOT NULL         DEFAULT     'Received',         -- Received/         PartiallyApplied         /         FullyApplied         /Void             description                       VARCHAR    (     500) NULL,             journal_entry_id                 BIGINT     NULL         REFERENCES          journal_entry     (     journal_entry_id     ),             created_by                       BIGINT     NOT NULL,             created_at                       TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                       BIGINT     NULL,             updated_at                       TIMESTAMP     NULL,             is_deleted                       BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             UNIQUE             INDEX          ux_payment_tenant_number                 ON     payment (     tenant_id     ,      payment_number     )                WHERE          is_deleted      =      FALSE;            CREATE             INDEX          ix_payment_payer_date                 ON     payment (     payer_tenant_id     ,      payment_date      );           Usage            When posted: debit bank (via      bank_account.gl_cash_account_id     ), credit AR.             PaymentAllocation      links payments to invoices.                       2.4          PaymentAllocation          (to invoices)       sql           CREATE             TABLE          payment_allocation      (             payment_allocation_id      BIGSERIAL         PRIMARY             KEY    ,             payment_id                         BIGINT     NOT NULL         REFERENCES     payment(     payment_id     ),             invoice_id                         BIGINT     NOT NULL         REFERENCES     invoice(     invoice_id     ),             allocation_date                    DATE     NOT NULL,             allocated_amount                    NUMERIC    (     18,2) NOT NULL,             base_allocated_amount               NUMERIC    (     18,2) NOT NULL,             fx_difference_     amount               NUMERIC     (18,2) NOT NULL         DEFAULT     0,         -- FX on allocation             created_by                         BIGINT     NOT NULL,             created_at                         TIMESTAMP     NOT NULL         DEFAULT          NOW(     )       );            CREATE             INDEX          ix_payalloc_invoice                  ON          payment_allocation      (     invoice_id      );            CREATE             INDEX          ix_payalloc_payment                 ON          payment_allocation      (     payment_id      );           Usage            Allocation may create additional GL entries (e.g., reclassify FX difference to gain/loss accounts).            Used for aging and open     balance calculations.                       2.5          ExchangeRateDaily       Central store for daily FX rates.        apexgroup+1        sql           CREATE             TABLE          exchange_rate_daily      (             exchange_rate_id      BIGSERIAL         PRIMARY             KEY    ,             rate_date                     DATE     NOT NULL,             from_currency                  CHAR    (     3) NOT NULL,             to_currency                    CHAR    (     3) NOT NULL,             rate_type                      VARCHAR    (     20) NOT NULL,         -- Spot, Average,          MonthEnd              rate_value                     NUMERIC    (     18,8) NOT NULL,        source                    VARCHAR    (     50) NOT NULL,         -- Manual, ECB, API, etc.             is_default                    BOOLEAN     NOT NULL         DEFAULT     FALSE,             created_by                    BIGINT     NOT NULL,             created_at                    TIMESTAMP     NOT NULL         DEFAULT          NOW(     )       );            CREATE             UNIQUE             INDEX          ux_exchrate_pair_date_type                  ON          exchange_rate_daily      (     rate_date     ,      from_currency     ,      to_currency     ,      rate_type      );           Usage            Invoices and payments capture the      exchange_rate_id      and      exchange_rate      used.            Revaluation batches look up appropriate historical and current rates.                       2.6          FxRevaluationBatch       Supports realized/unrealized FX gain/loss processing (e.g., revalue open AR/AP at period end).        scs+1        sql           CREATE             TABLE          fx_revaluation_batch      (             fx_revaluation_batch_id      BIGSERIAL         PRIMARY             KEY    ,             tenant_id                            BIGINT     NOT NULL,             batch_number                          VARCHAR    (     50) NOT NULL,             batch_date                           DATE     NOT NULL,             rate_type                             VARCHAR    (     20) NOT NULL,         -- e.g., "         MonthEnd         "             from_currency                         CHAR    (     3) NOT NULL,             to_currency                           CHAR    (     3) NOT NULL,             rate_used                             NUMERIC    (     18,8) NOT NULL,             scope_type                            VARCHAR    (     20) NOT NULL,         -- AR, AP, Both             description                           VARCHAR    (     500) NULL,                status                               VARCHAR    (     20) NOT NULL         DEFAULT     'Prepared',         -- Prepared/Posted/Reversed             journal_entry_id                     BIGINT     NULL         REFERENCES          journal_entry     (     journal_entry_id     ),             created_by                           BIGINT     NOT NULL,             created_at                           TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                           BIGINT     NULL,             updated_at                           TIMESTAMP     NULL        );            CREATE             UNIQUE             INDEX          ux_fxreval_tenant_batchnumber                 ON          fx_revaluation_batch      (     tenant_id     ,      batch_number      );        sql           CREATE             TABLE          fx_revaluation_line      (             fx_revaluation_line_     id       BIGSERIAL              PRIMARY             KEY    ,             fx_revaluation_batch_id              BIGINT     NOT NULL         REFERENCES          fx_revaluation_batch     (     fx_revaluation_batch_id     ),             document_type                         VARCHAR    (     20) NOT NULL,         -- Invoice/         VendorBill         /etc.             document_id                          BIGINT     NOT NULL,             original_currency                     CHAR    (     3) NOT NULL,             original_amount                       NUMERIC    (     18,2) NOT NULL,             base_currency                         CHAR    (     3) NOT NULL,             prior_rate                            NUMERIC    (     18,8) NOT NULL,             prior_base_amount                     NUMERIC    (     18,2) NOT NULL,             new_rate                              NUMERIC    (     18,8) NOT NULL,             new_base_amount                       NUMERIC    (     18,2) NOT NULL,             fx_difference_amount                  NUMERIC    (     18,2) NOT NULL,         --          gain(         +) /          loss(         -)             account_id_gain                      BIGINT     NOT      NULL,                     -- FX gain account             account_id_loss                      BIGINT     NOT      NULL,                     -- FX loss account             property_id                          BIGINT     NULL,             lease_id                             BIGINT     NULL       );            CREATE             INDEX          ix_fxreval_line_doc                  ON          fx_revaluation_line      (     document_type     ,      document_id      );           Usage            Batch calculates      fx_difference_amount      for each open document and posts a single      journal_entry      with multiple      journal_entry_line      records to FX gain/loss accounts.            Mimics global FX revaluation flows in systems like Yardi.        apexgroup+1              These      schemas      give you a complete leasing/billing/FX backbone:            Lease support (     RentSchedule     ,      SecurityDeposit     ,      LeaseDocument     ).            Multi     currency invoicing and receipts (Invoice,      InvoiceLine     , Payment,      PaymentAllocation     ).            Central FX configuration and revaluation (     ExchangeRateDaily     ,      FxRevaluationBatch     /Line).      Below are concise GL posting patterns you can standardize into your PMS posting engine, using the schema you defined (     ChartOfAccount     ,      JournalEntry     ,      JournalEntryLine     , etc.)    . Below are some examples for reference.                            1. Rent invoice (lease billing)      Assumptions:            Tenant lease billed for periodic rent (and maybe CAM, parking, tax).            AR and revenue accounts configured in      chart_of_account     .            Tax behavior via      tax_code     .                1.1 Base rent only (no tax)      Example: Monthly rent 1,000 in document currency (DC).      Journal:            Debit:         Accounts Receivable – Tenant     (AR) → 1,000            Credit:         Rent Income     → 1,000      Mapping:              journal_entry              journal_source      = 'LEASE_BILLING'             reference_doc_type      = 'Invoice',      reference_doc_id      =      invoice_id              journal_entry_line             Line 1: DR AR account,      tenant_id     ,      property_id     ,      lease_id     .            Line 2: CR Rent Income account, same property/lease dimensions.                1.2 Rent + tax (VAT/GST)      Rent 1,000, tax 10% = 100, total 1,100.      Journal:            Debit: AR → 1,100            Credit: Rent Income → 1,000            Credit: Tax Payable (VAT/GST) → 100      This matches typical multi     country tax postings.        apexgroup+1                 1.3 Multiple components (Base rent + CAM + parking)      Per      invoice_line     :            Base rent 800 → Rent Income            CAM 150 → CAM Income            Parking 50 → Parking Income      Journal:            Debit: AR → 1,000            Credit: Rent Income → 800            Credit: CAM Income → 150            Credit: Parking Income → 50      Each      invoice_     line.account     _id      drives the credit side.                       2. Rent payment (tenant receipt)       Assumptions:            Payment received in same currency as invoice (FX handled separately).                2.1 Standard receipt      Payment 1,100 (settling full invoice incl. tax):            Debit:         Bank     (cash account linked to      bank_account.gl_cash_account_id     ) → 1,100            Credit:         Accounts Receivable – Tenant     → 1,100      Dimensions:            Bank line:      bank_account_id     , maybe      property_id      or legal entity.            AR line:      tenant_id     ,      property_id     ,      lease_id     .      If payment only partial (e.g., 600):            DR Bank 600            CR AR 600        PaymentAllocation            holds      how 600 is spread across open invoices.                2.2 Overpayment (unapplied cash)      Payment 1,200, but only 1,100 applied:            DR Bank 1,200            CR AR 1,100            CR         Unapplied Cash / Tenant Credits     100      Your AR module shows 100 as unapplied credit for the tenant.                       3. Security deposit receipt and refund                3.1 Deposit receipt      Tenant pays a security      deposit      2,000.      Option A (liability approach, common):            Debit:         Bank     → 2,000            Credit:         Security Deposits Liability     → 2,000       This keeps deposits off income until applied or forfeited.                3.2 Deposit applied to charges (e.g., at move         out)      Use 500      deposit      toward final charges:            Debit:         Security Deposits Liability     → 500            Credit:         Accounts Receivable – Tenant     → 500      This reduces AR and releases part of the liability.                3.3 Deposit refund to tenant      Refund remaining 1,500 to tenant:            Debit: Security Deposits Liability → 1,500            Credit: Bank → 1,500      If any part is forfeited as income (e.g., damage):            Debit: Security Deposits Liability → 300            Credit:         Damage Recovery Income     → 300      Deposit logic is then visible in reports by property/lease.                       4. Vendor bill (AP) for maintenance or services      Assumptions:            Vendor bill for maintenance work or services.            Expense account (or asset) configured.                4.1 Expense vendor bill      Vendor bill 1,000 expense + 100 tax = 1,100:            Debit:         Maintenance Expense     (or other expense account) → 1,000            Debit:         Tax Recoverable     (if recoverable) or treat as part of expense → 100            Credit:         Accounts Payable – Vendor     → 1,100      Dimensions:            Expense lines tagged with      property_id     ,      unit_id     ,      work_order_id     , etc.             AP line tagged with      vendor_id     ,      property_id      (if needed).                4.2 Capitalizable vendor bill (Capex)      If the cost is capex (e.g., new asset):            Debit:         Fixed Asset – Building Improvements     → 1,000            Debit: Tax recoverable (if applicable)            Credit: AP → total      Later, depreciation runs will credit Accumulated Depreciation, debit Depreciation Expense.                4.3 Vendor payment      When paying vendor:            Debit: AP → 1,100            Credit: Bank → 1,100      Linked via vendor bill and bank account.                       5. FX scenarios &amp; revaluation                5.1 Invoice in foreign currency, base currency GL      Assume:            Invoice: EUR 1,000, rate at billing = 1.10, base currency USD.            Base amount when posted: 1,100 USD.      Posting at billing:            Debit: AR (EUR functional, but stored with base) → 1,100 USD            Credit: Rent Income → 1,100 USD        invoice.exchange     _rate      and      base_total_amount      capture this.                5.2 Payment later at different          rate          (realized FX gain/loss)      Payment occurs when rate is 1.20 (1,000 EUR = 1,200 USD).      Economic reality: you “gain” 100 USD compared to original 1,100 USD receivable.      Splitting logic (one approach):             Revalue AR from old rate to new rate         just before     settlement (via      fx_revaluation_batch     ):            Debit: AR → 100            Credit: FX Gain → 100            Settle AR at new base amount (1,200):            Debit: Bank → 1,200            Credit: AR → 1,200      Alternative: some systems combine both steps at payment time—same net effect.        scs+1                 5.3 Period         end FX revaluation (unrealized gain/loss)      At month end, you revalue open foreign     currency receivables/payables.      For each open AR (invoice):            Compute prior base amount vs new base amount using      exchange_rate_daily      with type “     MonthEnd     ”.             fx_difference_amount      per document stored in      fx_revaluation_line     .      If new base &gt; prior base (loss on receivable):            Debit:         FX Loss     → difference            Credit:         AR     → difference      If new base &lt; prior base (gain on receivable):            Debit: AR → difference            Credit: FX Gain → difference       fx_revaluation_batch      aggregates all      fx_revaluation_lines      into one      journal_entry     .      At next period end, reverse prior batch (or net with new one), consistent with standard global FX practices.                  These rules are enough to configure a posting engine:            Each event (invoice, payment, deposit, vendor bill, FX      reval     ) has a         posting template     that:              Chooses      GL accounts based on      invoice_     line.account     _id     , tax configuration, and system settings.            Writes      journal_entry      +      journal_entry_line      records with property/lease/tenant/vendor dimensions.                 3.4 Accounting           ChartOfAccount     ,          JournalEntry     ,          JournalEntryLine     ,          VendorBill     ,          OwnerDistribution     ,          BankAccount     , etc., integrated with property management      similar to      Yardi Voyager (one central database, no duplicate entry).                1.          ChartOfAccount       Single chart per tenant (or per group) with property/region tagging via segments, not separate ledgers.       sql           CREATE             TABLE          chart_of_account      (             account_id             BIGSERIAL         PRIMARY             KEY    ,             tenant_id                      BIGINT     NOT NULL,             account_code                    VARCHAR    (     50) NOT      NULL,            -- e.g., "4000-RENT", "6100-MAINT"             account_name                    VARCHAR    (     200) NOT NULL,             account_type                    VARCHAR    (     20) NOT      NULL,            -- Asset/Liability/Equity/Revenue/Expense             account_sub_     type               VARCHAR     (50)      NULL,                    -- Cash, AR,          RentIncome         ,          CAMExpense         , etc.             normal_balance                  VARCHAR    (     5) NOT      NULL,                 -- "DR" or "CR"             is_posting                     BOOLEAN     NOT NULL         DEFAULT     TRUE,             parent_account_id              BIGINT     NULL         REFERENCES          chart_of_account     (     account_id     ),                level                         INT     NOT NULL         DEFAULT     1,         -- hierarchy level (for rollups)             currency_code                   CHAR    (     3)      NULL,                        -- optional default        notes                     TEXT     NULL,                status                         VARCHAR    (     20) NOT NULL         DEFAULT     'Active',              created_by                     BIGINT     NOT NULL,             created_at                     TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                     BIGINT     NULL,             updated_at                     TIMESTAMP     NULL,             is_deleted                     BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             UNIQUE             INDEX          ux_coa_tenant_code                 ON          chart_of_account      (     tenant_id     ,      account_code     )                WHERE          is_deleted      =      FALSE;            CREATE             INDEX          ix_coa_tenant_type                 ON          chart_of_account      (     tenant_id     ,      account_type     ,         status     );           Usage            All modules (leases, invoices, payments, vendor bills, maintenance costs) post to these accounts via journal entries.             parent_account_id      + level allow roll     up reporting (like income statement sections).        apexgroup+1                        2.          JournalEntry          (header)      One header per      journal;      can originate from any module.       sql           CREATE             TABLE          journal_entry      (             journal_entry_id        BIGSERIAL         PRIMARY             KEY    ,             tenant_id                       BIGINT     NOT NULL,             journal_number                   VARCHAR    (     50) NOT NULL,             journal_source                   VARCHAR    (     50) NOT NULL,                 -- e.g. "LEASE_BILLING", "RECEIPT", "VENDOR_BILL", "MANUAL", "FX_REVAL"             reference_doc_type               VARCHAR    (     50)      NULL,                   -- "Invoice", "Payment", "         VendorBill         "             reference_doc_id                BIGINT     NULL,             entry_date                      DATE     NOT NULL,             posting_date                    DATE     NOT NULL,             period_id                       BIGINT          NULL,                       -- FK to accounting period (optional)             currency_code                    CHAR    (     3) NOT      NULL,                  -- transaction currency             base_currency_code               CHAR    (     3) NOT      NULL,                  -- group/tenant base             exchange_rate                    NUMERIC    (     18,8) NOT NULL         DEFAULT     1,             total_debit                      NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             total_credit                     NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             description                      VARCHAR    (     500) NULL,                status                          VARCHAR    (     20) NOT NULL         DEFAULT     'Posted',         -- Draft/Posted/Reversed             reversal_of_entry_id              BIGINT          NULL,                     -- if this is a reversal             created_by                      BIGINT     NOT NULL,             created_at                      TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             approved_by                     BIGINT     NULL,             approved_at                     TIMESTAMP     NULL,             updated_by                      BIGINT     NULL,             updated_at                      TIMESTAMP     NULL,             is_deleted                      BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             UNIQUE             INDEX          ux_je_tenant_number                 ON          journal_entry      (     tenant_id     ,      journal_number     )                WHERE          is_deleted      =      FALSE;            CREATE             INDEX          ix_je_tenant_dates                 ON          journal_entry      (     tenant_id     ,      posting_date     ,         status     );           Usage            Each invoice, payment, vendor bill, or adjustment generates one or more      journal_entry      records.             reference_doc_type      and      reference_doc_id      point back to the originating object, enabling drill     down from GL to operational records (like Yardi).        g2+2                        3.          JournalEntryLine          (detail)      Holds the actual accounting distributions, including property/unit/lease dimensions.       sql           CREATE             TABLE          journal_entry_line      (             journal_entry_line_id      BIGSERIAL         PRIMARY             KEY    ,             journal_entry_id                   BIGINT     NOT NULL         REFERENCES          journal_entry     (     journal_entry_id     ),             line_number                        INT     NOT NULL,             account_id                         BIGINT     NOT NULL         REFERENCES          chart_of_account     (     account_id     ),             description                         VARCHAR    (     500) NULL,             debit_amount                        NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             credit_amount                       NUMERIC    (     18,2) NOT NULL         DEFAULT     0,                -- dimensional links for property management:             property_id                        BIGINT     NULL,             unit_id                            BIGINT     NULL,             lease_id                           BIGINT     NULL,             tenant_id                          BIGINT     NULL,             owner_id                           BIGINT     NULL,             vendor_id                          BIGINT     NULL,              region_id                          BIGINT     NULL,             cost_center_id                     BIGINT     NULL,             project_id                         BIGINT     NULL,                -- multi-currency and tax:             tax_code_id                        BIGINT     NULL,             tax_amount                          NUMERIC    (     18,2) NULL,             currency_code                       CHAR    (     3) NOT NULL,             base_currency_code                  CHAR    (     3) NOT NULL,             exchange_rate                       NUMERIC    (     18,8) NOT NULL         DEFAULT     1,             base_debit_amount                   NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             base_credit_amount                  NUMERIC    (     18,2) NOT NULL         DEFAULT     0       );            CREATE             INDEX          ix_jel_account                 ON          journal_entry_line      (     account_id      );            CREATE             INDEX          ix_jel_property_lease                 ON          journal_entry_line      (     property_id     ,      lease_id      );            CREATE             INDEX          ix_jel_tenant_vendor                 ON          journal_entry_line      (     tenant_id     ,      vendor_id      );            CREATE             INDEX          ix_jel_region_costcenter                 ON          journal_entry_line      (     region_id     ,      cost_center_id      );           Usage             Every posting includes both         operational dimensions     and GL segments, enabling property / region / tenant     level P&amp;L and balance sheet without duplicating entries.        apexgroup+1             base_* amounts support consolidated reporting in a single base currency.                       4.          BankAccount       Represents bank accounts per entity/region.       sql           CREATE             TABLE          bank_account      (             bank_account_id         BIGSERIAL         PRIMARY             KEY    ,             tenant_id                       BIGINT     NOT NULL,             bank_name                        VARCHAR    (     200) NOT NULL,             account_name                     VARCHAR    (     200) NOT NULL,             account_number                   VARCHAR    (     100) NOT NULL,             iban                             VARCHAR    (     50) NULL,             swift_bic                        VARCHAR    (     20) NULL,             country_code                     CHAR    (     2) NOT NULL,             currency_code                    CHAR    (     3) NOT NULL,             property_id                     BIGINT          NULL,                 -- optional dedicated property account             legal_entity_id                 BIGINT          NULL,                 -- if you model legal entities             gl_cash_account_id              BIGINT     NOT NULL         REFERENCES          chart_of_account     (     account_id     ),             is_operating                    BOOLEAN     NOT NULL         DEFAULT     TRUE,             is_trust                        BOOLEAN     NOT NULL         DEFAULT     FALSE,                status                          VARCHAR    (     20) NOT NULL         DEFAULT     'Active',             created_by                      BIGINT     NOT NULL,             created_at                      TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                      BIGINT     NULL,              updated_at                      TIMESTAMP     NULL,             is_deleted                      BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             UNIQUE             INDEX          ux_bank_account_number                 ON          bank_account      (     tenant_id     ,      account_number     )                WHERE          is_deleted      =      FALSE;           Usage            Cash     related journal lines reference      gl_cash_account_id     .            Used for bank reconciliation, receipts, and payments.                       5.          VendorBill          (AP)      Vendor invoices for maintenance, utilities, contracts, etc.       sql           CREATE             TABLE     vendor (             vendor_id            BIGSERIAL         PRIMARY             KEY    ,             tenant_id                    BIGINT     NOT NULL,             vendor_code                   VARCHAR    (     50) NOT NULL,             vendor_name                   VARCHAR    (     200) NOT NULL,             country_code                  CHAR    (     2) NULL,             tax_identifiers      JSONB NULL,                status                       VARCHAR    (     20) NOT NULL         DEFAULT     'Active',             created_by                   BIGINT     NOT NULL,             created_at                   TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                   BIGINT     NULL,             updated_at                   TIMESTAMP     NULL,              is_deleted                   BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             UNIQUE             INDEX          ux_vendor_code                 ON     vendor (     tenant_id     ,      vendor_code     )                WHERE          is_deleted      =      FALSE;        sql           CREATE             TABLE          vendor_bill      (             vendor_bill_id         BIGSERIAL         PRIMARY             KEY    ,             tenant_id                      BIGINT     NOT NULL,             vendor_id                      BIGINT     NOT NULL         REFERENCES     vendor(     vendor_id     ),             property_id                    BIGINT     NULL         REFERENCES     property(     property_id     ),             region_id                      BIGINT     NULL,             bill_number                     VARCHAR    (     50) NOT NULL,             reference_     number               VARCHAR     (50) NULL,             bill_date                      DATE     NOT NULL,             due_date                       DATE     NOT NULL,             currency_code                   CHAR    (     3) NOT NULL,             base_currency_code               CHAR    (     3) NOT NULL,             exchange_rate                   NUMERIC    (     18,8) NOT NULL         DEFAULT     1,             subtotal_amount                 NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             tax_amount                      NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             total_amount                    NUMERIC    (     18,2) NOT NULL         DEFAULT     0,                status                         VARCHAR    (     20) NOT NULL         DEFAULT     'Open',         -- Open/         PartiallyPaid         /Paid/Void             description                     VARCHAR    (     500) NULL,             gl_posted                      BOOLEAN     NOT NULL         DEFAULT     FALSE,              journal_entry_     id               BIGINT      NULL         REFERENCES          journal_entry     (     journal_entry_id     ),             created_by                     BIGINT     NOT NULL,             created_at                     TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                     BIGINT     NULL,             updated_at                     TIMESTAMP     NULL,             is_deleted                     BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             UNIQUE             INDEX          ux_vendor_bill_num                 ON          vendor_bill      (     tenant_id     ,      vendor_id     ,      bill_number     )                WHERE          is_deleted      =      FALSE;            CREATE             INDEX          ix_vendor_bill_vendor_status                 ON          vendor_bill      (     vendor_id     ,         status    ,      due_date      );        sql           CREATE             TABLE          vendor_bill_line      (             vendor_bill_line_id      BIGSERIAL         PRIMARY             KEY    ,             vendor_bill_id                   BIGINT     NOT NULL         REFERENCES          vendor_bill     (     vendor_bill_id     ),             line_number                      INT     NOT NULL,        description                  VARCHAR    (     500) NOT NULL,        quantity                     NUMERIC    (     18,4) NOT NULL         DEFAULT     1,             unit_cost                         NUMERIC    (     18,4) NOT NULL         DEFAULT     0,             line_amount                       NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             tax_code_id                      BIGINT     NULL         REFERENCES          tax_code     (     tax_code_id     ),             tax_amount                        NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             account_id                       BIGINT     NOT NULL         REFERENCES          chart_of_account     (     account_id     ),              property_id                      BIGINT     NULL,             unit_id                          BIGINT     NULL,             work_order_id                    BIGINT     NULL,             maintenance_cost_id              BIGINT     NULL,             created_by                       BIGINT     NOT NULL,             created_at                       TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                       BIGINT     NULL,             updated_at                       TIMESTAMP     NULL       );            CREATE             INDEX          ix_vbl_vendor_account                 ON          vendor_bill_line      (     account_id     ,      property_id     ,      work_order_id      );           Usage            Posting a vendor bill creates a      journal_entry      (credit AP, debit expense/asset accounts), linked by      journal_entry_id     , just like Yardi’s AP posting.                            6.          OwnerDistribution          (to owners/investors)      Tracks distributions of net income by property/ownership share.       sql           CREATE             TABLE     owner (             owner_id           BIGSERIAL         PRIMARY             KEY    ,             tenant_id                  BIGINT     NOT NULL,             owner_code                  VARCHAR    (     50) NOT NULL,             owner_name                  VARCHAR    (     200) NOT NULL,             country_     code               CHAR     (2) NULL,                status                     VARCHAR    (     20) NOT NULL         DEFAULT     'Active',              created_by                 BIGINT     NOT NULL,             created_at                 TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                 BIGINT     NULL,             updated_at                 TIMESTAMP     NULL,             is_deleted                 BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             UNIQUE             INDEX          ux_owner_code                 ON     owner (     tenant_id     ,      owner_code     )                WHERE          is_deleted      =      FALSE;        sql           CREATE             TABLE          property_owner_link      (             property_owner_link_id      BIGSERIAL         PRIMARY             KEY    ,             property_id                         BIGINT     NOT NULL         REFERENCES     property(     property_id     ),             owner_id                                 BIGINT     NOT      NULL         REFERENCES     owner(     owner_id     ),             ownership_percent                    NUMERIC    (     7,4) NOT NULL,         -- 0-100             effective_from                      DATE     NOT NULL,             effective_to                        DATE     NULL       );            CREATE             INDEX          ix_prop_owner                 ON          property_owner_link      (     property_id     ,      owner_id     ,      effective_from      );        sql           CREATE             TABLE          owner_distribution      (             owner_distribution_id      BIGSERIAL         PRIMARY             KEY    ,             tenant_id                          BIGINT     NOT NULL,              owner_id                                BIGINT     NOT      NULL         REFERENCES     owner(     owner_id     ),             property_id                        BIGINT     NOT NULL         REFERENCES     property(     property_id     ),             period_start                       DATE     NOT NULL,             period_end                         DATE     NOT NULL,             currency_code                       CHAR    (     3) NOT NULL,             base_currency_code                  CHAR    (     3) NOT NULL,             exchange_rate                       NUMERIC    (     18,8) NOT NULL         DEFAULT     1,             gross_income                        NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             operating_expenses                  NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             net_income                          NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             owner_share_percent                 NUMERIC    (     7,4) NOT NULL,             distribution_amount                 NUMERIC    (     18,2) NOT NULL         DEFAULT     0,             distribution_date                  DATE     NULL,                status                             VARCHAR    (     20) NOT NULL         DEFAULT     'Calculated',         -- Calculated/Approved/Paid             journal_entry_id                   BIGINT     NULL         REFERENCES          journal_entry     (     journal_entry_id     ),             created_by                         BIGINT     NOT NULL,             created_at                         TIMESTAMP     NOT NULL         DEFAULT          NOW(     ),             updated_by                         BIGINT     NULL,             updated_at                         TIMESTAMP     NULL,             is_deleted                         BOOLEAN     NOT NULL         DEFAULT     FALSE       );            CREATE             INDEX          ix_owner_dist_owner_prop_period                 ON          owner_distribution      (     owner_id     ,      property_id     ,      period_start     ,      period_end      );           Usage             When paying a distribution, a journal entry debits owner liability and credits bank account.            Reports: owner statements, property     level net income by owner.                       7. Integration notes                No duplicate entry    : all operational events (rent invoices, receipts, vendor bills, owner distributions, maintenance costs)         must     create journal entries through a shared posting service, ensuring a single GL like Yardi Voyager.                 Multi     country tax:      tax_code      and      tax_profile      tables (previous answer) drive tax behavior;      journal_entry_line.tax_code_id      +      tax_amount      capture final tax postings per line.            Dashboards can aggregate      journal_entry_line      by      property_id     ,      region_id     ,      account_type     , and dates to produce P&amp;L, balance sheet, and cash     flow views per region/country/portfolio.                    3.5 Luxury maintenance &amp; service           MaintenanceRequest              MaintenanceRequestId     ,      TenantId     ,      RequestNumber              PropertyId     ,      UnitId     ,     Unasserted             RequesterType      (Tenant, Staff, Owner, System,      IoTDevice     )            Channel (Portal, Mobile, Email, Phone,      QRScan     , Sensor)            Title, descriptions, category, priority            SLA references, timestamps, SLA target and breach flags           MaintenanceSLA             SLA name, property/client tier, response &amp; resolution targets, escalation times.           WorkOrder             Links to      request     , property,      unit     ,      asset              Type (Corrective, Preventive, Predictive,      LuxuryCare     ,      ConciergeSupport     )            Planner, schedule, SLA fields, access instructions, security clearance, completion notes, customer feedback rating.           WorkOrderTask     ,         WorkOrderAssignment    ,          MaintenanceCost     ,          MaintenanceAttachment      as detailed earlier.           ConciergeRequest      (for lifestyle services)             ConciergeRequestId     ,      PropertyId     ,      UnitId     ,      RequesterId              ServiceType      (     EventSetup     ,      TravelPrep     ,      GuestArrival     ,      WardrobePrep     , etc.)             Dates, priority, preferences, linked      WorkOrders      if physical setup needed.                       4. Front         end forms &amp; CRUD behavior      Describe         front         end screens     with full CRED (Create, Read, Edit, soft Delete).                4.1 Master data forms          Region Management            Grid:      RegionName     , Type, Parent, Status.             Form     :      RegionCode     , Name, Type,      ParentRegion     , Description, Status.            Actions: Add, Edit, Deactivate (     IsDeleted     ), View audit.          Staff / Employee Management            Grid: Name, Role, Region, Department, Status.             Form     : personal info, role, scope (regions/properties), skills, employment type.            Actions: Add staff, assign to property, deactivate, reset access.                4.2 Property &amp; Unit forms          Property List &amp; Detail            List filters: region, country, type, status, “luxury only”.            Detail tabs: Overview, Units, Financials, Maintenance, Documents, Owners, Compliance.          Unit Detail             QR scan integration; show unit info and linked assets.            Buttons: “New Lease”, “New Maintenance Request”, “View Assets”.           UnitAsset          Form            For cataloging luxury assets with photos, insurance and appraisal history.                4.3 Leasing &amp; tenant forms          Lease Wizard            Multi     step: Select property/unit, party details, term, rent &amp; charges, deposits, indexation, local tax/compliance, docs &amp; e     sign.            Country     specific panels for EU/US/GCC/India taxation and regulations.          Tenant Portal            Simple forms for rent payment, maintenance requests, lease view, documents.                4.4 Maintenance &amp; concierge forms          New Maintenance Request     (tenant/staff)            Fields: Property, Unit, Asset (optional), category, priority, description, photos, preferred time, access notes.            QR      scan pre     fills      location &amp; asset.          Maintenance Request Triage (Ops)            Grid of new/urgent requests with SLA indicators.            Actions: link/convert to      WorkOrder     , assign SLA, merge duplicates.          Work Order Board            Kanban by status or priority; filters by region, property, category, technician, SLA risk.            Detail screen with tabs: Overview, Tasks, Assignments, Costs, Attachments, History, Feedback.          Concierge Request Form            For lifestyle tasks;      similar to      maintenance but with additional preferences, guests, and event details.                        5. Reports &amp; advanced dashboards (with filters)      Model dashboards/BI      similar to      Yardi’s ORION and Voyager role     based      dashboards, but      customized for luxury multi     country portfolios.                     5.1 Executive / portfolio dashboards            KPIs: occupancy, rent collection, delinquency, NOI, capex, FX impact, maintenance SLA compliance, vendor performance.            Filters: Region (Africa/GCC/EU/US/Australia/India), country, property type, portfolio, time range, currency.            Views: world/region maps, comparison bars, trends; click to drill into region/property dashboards.                5.2 Operations dashboards            Leasing: vacancy, lease expiries, leasing funnel (inquiry → application → approval → move     in).            Maintenance: open WOs by category/priority, SLA breaches, MTTR/MTBF, repeated issues, cost by property/asset.            Concierge: open VIP tasks, turnaround times, client satisfaction.                5.3 Finance dashboards            Rent roll and AR aging by region/currency; cash     flow forecast; budget vs actuals; expense by category.            Filters: region, legal entity, currency, property type, GL account ranges.                5.4 Luxury asset &amp; estate dashboards            High     value asset inventories per estate and region; insurance coverage status; upcoming maintenance/servicing windows.                 Climate     sensitive assets and their maintenance schedule adherence.                5.5 Standard reports (examples)            Lease expiry reports (by region/country/property).            Delinquency and collections reports.             Owner statements and investor reports (for multi     country portfolios).            Maintenance and vendor performance reports.            Luxury asset register, insurance and appraisal reports.      Each report must support:            Filters: region, country, property, time range, currency, asset type, client tier.            Export to Excel/PDF; scheduled email distribution.                       6. Multi         country, security &amp; governance highlights            Multi     tenant and multi     region:      TenantId      + region/country context on all key tables; user scopes defined at region/country/property level.            Role     based dashboards and navigation,      similar to      Yardi’s role     based workspace idea    .                 Strong audit trails:      CreatedBy     ,      CreatedAt     ,      UpdatedBy     ,      UpdatedAt      on all entities; separate audit log for critical changes.            Support for data residency and GDPR/other privacy rules (e.g., EU personal data export restrictions).                   